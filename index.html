<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Generate consistent campaign asset names from a documented naming convention." />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0b0e13" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#eef1f7" media="(prefers-color-scheme: light)">
  <title>Name Generators</title>
  <style>
    /* ===== THEME ===== */
    :root{
      --bg:#0b0e13; --bg2:#101522; --card:#141923; --muted:#8a93a6; --text:#e6e9ef; --outline:#222837; --accent:#6ea8fe; --accent2:#9b7bff; --success:#7ef29a;
      --codeBg:#0c111b; --codeText:#cfe3ff;
      --radius:14px; --gap:14px;
      --shadow:0 10px 30px rgba(0,0,0,.10);
      --focus: 2px solid var(--accent);
    }
    [data-theme="light"]{
      --bg:#eef1f7; --bg2:#f6f7fb; --card:#ffffff; --muted:#5b647a; --text:#0f1222; --outline:#d6dbe8; --accent:#3b82f6; --accent2:#8b5cf6; --success:#10b981;
      --codeBg:#0f172a; --codeText:#e5edff;
    }

    /* ===== LAYOUT ===== */
    *{box-sizing:border-box}
    html,body{height:100%}
    html{overflow-y:scroll}
    body{margin:0;background:radial-gradient(1200px 600px at 10% -10%, var(--bg2) 0%, var(--bg) 45%, var(--bg) 100%);color:var(--text);font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;transition:background .3s ease,color .3s ease}
    a.skip{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
    a.skip:focus{left:16px;top:16px;width:auto;height:auto;background:var(--card);color:var(--text);padding:8px 12px;border-radius:10px;border:1px solid var(--outline);box-shadow:var(--shadow)}

    header{position:sticky;top:0;backdrop-filter:saturate(150%) blur(6px);background:linear-gradient(180deg, color-mix(in oklab,var(--bg) 92%, transparent), transparent);z-index:10;max-width:1160px;margin:0 auto;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;gap:12px;border-bottom:1px solid var(--outline)}
    h1{margin:0 0 6px;font-size:32px;font-weight:800;letter-spacing:.2px}
    header p{margin:0;color:var(--muted)}
    .topmeta{display:flex;flex-direction:column}
    .themeToggle{appearance:none;border:1px solid var(--outline);background:linear-gradient(135deg,var(--accent),var(--accent2));color:white;padding:8px 10px;border-radius:999px;cursor:pointer;line-height:1}
    .themeToggle span{display:inline-block;font-size:18px;vertical-align:middle}
    main{max-width:1160px;margin:0 auto;padding:12px 20px 40px;display:grid;grid-template-columns:1.1fr .9fr;gap:20px}
    @media (max-width:920px){ main{grid-template-columns:1fr;}}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));border:1px solid var(--outline);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
    .card h2{margin:4px 0 14px;font-size:18px}
    .row{display:flex;gap:var(--gap);align-items:center;flex-wrap:wrap}
    .toolbar{margin-bottom:var(--gap)}
    .grid{display:grid;gap:var(--gap);grid-template-columns:repeat(2,minmax(180px,1fr))}
    @media (max-width:720px){.grid{grid-template-columns:1fr}}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    select{width:100%;padding:11px 12px;background:var(--card);color:var(--text);border:1px solid var(--outline);border-radius:10px}
    .output{margin-top:12px;font-family:ui-monospace,Menlo,Consolas,monospace;background:var(--codeBg);color:var(--codeText);border:1px solid var(--outline);border-radius:12px;padding:16px;min-height:64px;white-space:pre-wrap}
    .btn{appearance:none;border:1px solid var(--outline);background:linear-gradient(180deg, var(--card), color-mix(in oklab, var(--card) 80%, black));color:var(--text);padding:10px 16px;border-radius:999px;font-weight:700;cursor:pointer}
    .btn.primary{border:none;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#081020}
    .btn.ghost{background:transparent}
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .pill{background:var(--card);border:1px solid var(--outline);border-radius:999px;padding:8px 10px;color:var(--muted);font-size:12px}
    footer{max-width:1160px;margin:0 auto 40px;padding:0 20px;color:var(--muted);font-size:12px}
    .divider{height:1px;background:var(--outline);margin:12px 0}

    /* ===== Values panel readability ===== */
    .param{margin:10px 0 14px}
    .param summary{cursor:pointer;user-select:none;font-size:14px;color:var(--text);padding:8px 10px;border-radius:10px;border:1px solid var(--outline);background:var(--card)}
    .param[open] summary{border-color:var(--accent)}
    .chips{display:grid;grid-template-columns:repeat(2,minmax(160px,1fr));gap:10px;margin-top:10px}
    @media (max-width:720px){.chips{grid-template-columns:1fr}}
    .chip{display:flex;flex-direction:column;gap:6px;background:var(--card);border:1px dashed var(--outline);border-radius:12px;padding:10px 12px;cursor:pointer;user-select:none;transition:transform .05s ease,border-color .2s ease}
    .chip:hover{border-color:var(--accent)}
    .chip:active{transform:scale(.99)}
    .chip .label{font-size:13px}
    .chip .code{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:12px;color:var(--muted)}
    .chip:focus-visible{outline:var(--focus);outline-offset:2px}

    /* ===== Toast (copy) ===== */
    .toast{position:fixed;left:24px;bottom:24px;background:var(--card);border:1px solid var(--outline);color:var(--text);padding:10px 14px;border-radius:12px;opacity:0;transform:translateY(8px) scale(.98);animation:toast 1.2s ease forwards}
    @keyframes toast{0%{opacity:0;transform:translateY(8px) scale(.98)} 15%{opacity:1;transform:translateY(0) scale(1)} 85%{opacity:1} 100%{opacity:0;transform:translateY(8px) scale(.98)}}

    /* Reduce-motion respect */
    @media (prefers-reduced-motion: reduce){
      *{transition:none !important}
      .toast{animation:none;opacity:1}
    }

    /* ===== Recents ===== */
    .recents{margin-top:12px}
    .recents h3{margin:0 0 8px;font-size:13px;color:var(--muted)}
    .recent-list{display:flex;flex-wrap:wrap;gap:8px}
    .recent-pill{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--outline);background:var(--card);border-radius:999px;padding:6px 10px;font-family:ui-monospace,Menlo,Consolas,monospace;font-size:12px}
    .recent-pill button{border:none;background:transparent;cursor:pointer;color:var(--muted)}

    /* ===== Focus states ===== */
    :where(button, [role="button"], select, summary).focus-visible{outline:var(--focus);outline-offset:2px}
    select.missing {
      border-color: #e74c3c !important; /* red border */
      box-shadow: 0 0 0 2px rgba(231, 76, 60, 0.3);
    }
    
  </style>
</head>
<body>
  <a class="skip" href="#main">Skip to main content</a>
  <header>
    <div class="topmeta">
      <h1>Name Generators</h1>
      <p>Build consistent asset names from a documented naming convention.</p>
    </div>
    <button id="themeBtn" class="themeToggle" type="button" aria-label="Toggle theme" title="Toggle theme"><span id="themeIcon">ðŸŒ™</span></button>
  </header>

  <main id="main" style="display:grid;grid-template-columns:1fr;gap:var(--gap)">
  <!-- Campaign Name pair -->
  <section class="pair" id="pair_campaign" style="display:grid;grid-template-columns:1.1fr .9fr;gap:var(--gap);align-items:start">
    <section class="card gen" id="gen_campaign" aria-labelledby="genHeading_campaign">
      <h2 id="genHeading_campaign">Campaign Name</h2>
      <div class="divider" role="presentation"></div>
      <div class="row toolbar" style="justify-content:space-between">
        <span class="pill" aria-live="polite" id="reqNote_campaign">All fields required</span>
        <div class="row" style="gap:8px">
          <button id="resetBtn_campaign" class="btn" type="button">Clear</button>
        </div>
      </div>
      <div class="grid" id="fields_campaign"></div>
      <div class="output" id="output_campaign" aria-live="polite" aria-atomic="true" role="status">Select values to generateâ€¦</div>
      <div class="row" style="margin-top:8px; gap:10px">
        <button id="copyBtn_campaign" class="btn primary" type="button" disabled aria-describedby="validity_campaign">Copy</button>
        <span class="pill muted" id="validity_campaign">Incomplete</span>
      </div>
    </section>

    <section class="card values" id="values_campaign" aria-labelledby="valuesHeading_campaign">
      <h2 id="valuesHeading_campaign">Naming Convention</h2>
      <div class="divider" role="presentation"></div>
      <div class="row toolbar">
        <span class="pill sourcePill" id="sourcePill_campaign">Embedded JSON</span>
      </div>
      <div id="valuesList_campaign"></div>
    </section>
  </section>
  <!-- Ad Group Name pair -->
  <section class="pair" id="pair_adgroup" style="display:grid;grid-template-columns:1.1fr .9fr;gap:var(--gap);align-items:start">
    <section class="card gen" id="gen_adgroup" aria-labelledby="genHeading_adgroup">
      <h2 id="genHeading_adgroup">Ad Group Name</h2>
      <div class="divider" role="presentation"></div>
      <div class="row toolbar" style="justify-content:space-between">
        <span class="pill" aria-live="polite" id="reqNote_adgroup">All fields required</span>
        <div class="row" style="gap:8px">
          <button id="resetBtn_adgroup" class="btn" type="button">Clear</button>
        </div>
      </div>
      <div class="grid" id="fields_adgroup"></div>
      <div class="output" id="output_adgroup" aria-live="polite" aria-atomic="true" role="status">Select values to generateâ€¦</div>
      <div class="row" style="margin-top:8px; gap:10px">
        <button id="copyBtn_adgroup" class="btn primary" type="button" disabled aria-describedby="validity_adgroup">Copy</button>
        <span class="pill muted" id="validity_adgroup">Incomplete</span>
      </div>
    </section>

    <section class="card values" id="values_adgroup" aria-labelledby="valuesHeading_adgroup">
      <h2 id="valuesHeading_adgroup">Naming Convention</h2>
      <div class="divider" role="presentation"></div>
      <div class="row toolbar">
        <span class="pill sourcePill" id="sourcePill_adgroup">Embedded JSON</span>
      </div>
      <div id="valuesList_adgroup"></div>
    </section>
  </section>
  <!-- Asset Name pair -->
  <section class="pair" id="pair_asset" style="display:grid;grid-template-columns:1.1fr .9fr;gap:var(--gap);align-items:start">
    <section class="card gen" id="gen_asset" aria-labelledby="genHeading_asset">
      <h2 id="genHeading_asset">Asset Name</h2>
      <div class="divider" role="presentation"></div>
      <div class="row toolbar" style="justify-content:space-between">
        <span class="pill" aria-live="polite" id="reqNote_asset">All fields required</span>
        <div class="row" style="gap:8px">
          <button id="resetBtn_asset" class="btn" type="button">Clear</button>
        </div>
      </div>
      <div class="grid" id="fields_asset"></div>
      <div class="output" id="output_asset" aria-live="polite" aria-atomic="true" role="status">Select values to generateâ€¦</div>
      <div class="row" style="margin-top:8px; gap:10px">
        <button id="copyBtn_asset" class="btn primary" type="button" disabled aria-describedby="validity_asset">Copy</button>
        <span class="pill muted" id="validity_asset">Incomplete</span>
      </div>
    </section>

    <section class="card values" id="values_asset" aria-labelledby="valuesHeading_asset">
      <h2 id="valuesHeading_asset">Naming Convention</h2>
      <div class="divider" role="presentation"></div>
      <div class="row toolbar">
        <span class="pill sourcePill" id="sourcePill_asset">Embedded JSON</span>
      </div>
      <div id="valuesList_asset"></div>
    </section>
  </section>

  <!-- Recents -->
  <section class="card" id="recents" aria-live="polite" aria-atomic="true"></section>
</main>

  <footer>Â© <span id="year"></span> Marketing Ops</footer>

  <noscript>
    <div style="max-width:1160px;margin:16px auto;padding:12px 20px">
      This tool requires JavaScript enabled to generate names and copy values.
    </div>
  </noscript>

  <script>
    // ===== Multi-Generator Engine =====
    // Schema format (per level): { order:[labels], delimiter:"_", case:"lower"|"upper", fields:{ label:[{label,code},...] } }
    // Remote schema.json can be either:
    //  1) a single schema object (applies to Asset), or
    //  2) { asset:{...}, campaign: {"order":["Channel","User stage","Platform","Publisher","CampaignType","Region","Language"],"delimiter":"_","case":"lower","optional":["Language"],"fields":{"Channel":[{"label":"Display","code":"dspl"},{"label":"Paid Video","code":"pv"},{"label":"Paid Social","code":"pdsc"},{"label":"Paid Search NonBrand","code":"srch"},{"label":"Paid Search Brand","code":"srch_semrush"}],"User stage":[{"label":"Engage","code":"engage"},{"label":"Convert","code":"convert"},{"label":"Attract","code":"attract"},{"label":"Branding","code":"branding"}],"Platform":[{"label":"GDN","code":"gdn"},{"label":"DV360","code":"dv"},{"label":"Yahoo","code":"yahoodsp"},{"label":"Youtube","code":"yt"},{"label":"Meta","code":"meta"},{"label":"LinkedIn","code":"linkedin"},{"label":"Twitch","code":"twitch"},{"label":"Reddit","code":"reddit"},{"label":"Google Ads","code":"googleads"},{"label":"bing","code":"bing"},{"label":"tiktok","code":"tiktok"}],"Publisher":[{"label":"Adroll","code":"adroll"},{"label":"Linkedin","code":"linkedin"},{"label":"Reddit","code":"reddit"},{"label":"Criteo","code":"criteo"},{"label":"Moloco","code":"moloco"},{"label":"Bing","code":"bing"}],"CampaignType":[{"label":"dynamic ads","code":"dyn"},{"label":"Discovery Ads","code":"dsc"},{"label":"Performance Max","code":"pmax"},{"label":"Connected TV","code":"ctv"},{"label":"Audio","code":"audio"},{"label":"VideoView","code":"videoview"},{"label":"VideoReach","code":"videoreach"},{"label":"CPV","code":"cpv"},{"label":"VAC","code":"vac"},{"label":"DemandGen","code":"demandgen"},{"label":"Podcast","code":"podcast"}],"Region":[{"label":"Core","code":"Core"},{"label":"Core1","code":"Core1"},{"label":"Core2","code":"Core2"},{"label":"ROW","code":"ROW"},{"label":"ROWT1","code":"ROWT1"},{"label":"ROWT2","code":"ROWT2"},{"label":"Asia","code":"Asia"},{"label":"Nordics","code":"Nordics"},{"label":"DE","code":"DE"},{"label":"ES","code":"ES"},{"label":"FR","code":"FR"},{"label":"IT","code":"IT"},{"label":"US","code":"US"},{"label":"IN","code":"IN"},{"label":"PT","code":"PT"},{"label":"LATAM","code":"LATAM"},{"label":"BR","code":"BR"},{"label":"UY","code":"UY"},{"label":"AR","code":"AR"},{"label":"PE","code":"PE"},{"label":"ANZ","code":"ANZ"},{"label":"DACH","code":"DACH"}],"Language":[{"label":"English","code":"EN"},{"label":"Spanish","code":"ES"},{"label":"Portuguese","code":"PT"},{"label":"Italian","code":"IT"},{"label":"German","code":"DE"},{"label":"French","code":"FR"},{"label":"Japanese","code":"JA"},{"label":"Spanish Latam","code":"ES_Latam"}]}}, adgroup: {"order":["Campaign Category","Campaign Name","Campaign Objective","Company Size","Audience","Persona","Campaign Content"],"delimiter":"_","case":"lower","fields":{"Campaign Category":[{"label":"Brand","code":"brand"},{"label":"Main Funnel","code":"main"},{"label":"Product","code":"product"}],"Campaign Name":[{"label":"Make It","code":"makeit"},{"label":"Gaby","code":"gaby"},{"label":"SMB","code":"smb"},{"label":"Rapid AI","code":"rapidai"},{"label":"PFC","code":"pfc"},{"label":"PFC Edgy","code":"pfcedgy"},{"label":"Toolkits","code":"toolkits"}],"Campaign Objective":[{"label":"Engagement","code":"engagement"},{"label":"Lead","code":"lead"},{"label":"Traffic","code":"traffic"},{"label":"Conversions","code":"conversions"}],"Company Size":[{"label":"SMB","code":"smb-size"},{"label":"Mid-market","code":"mid-size"},{"label":"Enterprise","code":"enterprise-size"}],"Audience":[{"label":"Interest","code":"interest"},{"label":"Keywords","code":"kws"},{"label":"Inmarket","code":"inmarket"},{"label":"Custom Interest","code":"custom-interest"},{"label":"Combined","code":"combined"},{"label":"Lookalike","code":"lookalike"},{"label":"Visitors / Engaged","code":"visitors"},{"label":"Registered / Convert","code":"reg"},{"label":"High Intent","code":"high-intent"},{"label":"Projects+Trials","code":"project-trials"}],"Persona":[{"label":"Full-Stack Marketer","code":"fsm"},{"label":"SEO Professional","code":"seo"},{"label":"Full-stack marketer + SEO professional","code":"fsm-seo"},{"label":"SMBOwner+Fullstack marketer","code":"smb-fsm"},{"label":"SMBOwner","code":"smb-owner"},{"label":"AllPersona","code":"all-psn"}],"Campaign Content":[{"label":"SEO Toolkit","code":"SeoToolkit"},{"label":"Advertiser Toolkit","code":"AdvertisingToolkit"},{"label":"Traffic Toolkit","code":"TrafficToolkit"},{"label":"Content Toolkit","code":"ContentToolkit"},{"label":"Social Toolkit","code":"SocialToolkit"},{"label":"Local Toolkit","code":"LocalToolkit"},{"label":"AI Toolkit","code":"AIToolkit"},{"label":"PR Toolkit","code":"PRToolkit"},{"label":"All in One Toolkit","code":"Allinonetoolkit"},{"label":"Enterprise","code":"Enterprise"}]}}, asset: {
        // (Reusing the original single-schema as the Asset fallback; kept minimal hereâ€”extend as needed.)
        order:["Campaign category","Campaign Name","Persona","Landing Page Type","LP Content Name","Creative Name","Campaign Content","Asset Format","Asset SubType","Language"],
        delimiter:"_", case:"lower",
        fields:{
          "Campaign category":[{label:"Brand",code:"brand"},{label:"Main",code:"main"},{label:"Product",code:"product"}],
          "Campaign Name":[{label:"Make It",code:"makeit"},{label:"Discover Keywords",code:"discoverkw"},{label:"Traffic Analytics",code:"traffic"}],
          "Persona":[{label:"Full-Stack Marketer - SEO",code:"fsm-seo"},{label:"SMB",code:"smb"},{label:"All-psn",code:"all-psn"}],
          "Landing Page Type":[{label:"SS",code:"ss"},{label:"BP",code:"bp"},{label:"LP",code:"lp"}],
          "LP Content Name":[{label:"traffic-analytics-7-new",code:"traffic-analytics-7-new"},{label:"instant-market-insights",code:"instant-market-insights"}],
          "Creative Name":[{label:"jtbd Discover Winning Keywords",code:"jtbddiscoverwinningkeywords"}],
          "Campaign Content":[{label:"Content Toolkit",code:"contenttoolkit"}],
          "Asset Format":[{label:"Carousel",code:"carousel"},{label:"Video",code:"video"},{label:"Static",code:"static"}],
          "Asset SubType":[{label:"ShootJTBD",code:"shootjtbd"}],
          "Language":[{label:"English",code:"en"},{label:"Spanish",code:"es"}]
        }
      }
    };

    const RECENTS_KEY = 'gen_recents_v2';

    function normalizeCase(s, mode) {
      if (mode === 'lower') return s.toLowerCase();
      if (mode === 'upper') return s.toUpperCase();
      return s;
    }

    function createGenerator(levelKey, schema) {
      const els = {
        fields: document.getElementById('fields_' + levelKey),
        output: document.getElementById('output_' + levelKey),
        copyBtn: document.getElementById('copyBtn_' + levelKey),
        validity: document.getElementById('validity_' + levelKey),
        resetBtn: document.getElementById('resetBtn_' + levelKey),
        reqNote: document.getElementById('reqNote_' + levelKey),
      };
      const state = {};

      function renderFields() {
        if(els.reqNote){ if(Array.isArray(schema.optional) && schema.optional.length){ els.reqNote.textContent = schema.optional.join(', ') + ' optional'; } else { els.reqNote.textContent = 'All fields required'; } }
        els.fields.innerHTML='';
        schema.order.forEach(label=>{
          const opts = schema.fields[label] || [];
          const wrap = document.createElement('div');
          const id = levelKey + '_' + label.replace(/\s+/g,'_').toLowerCase();
          wrap.innerHTML = `
            <label for="${id}">${label}</label>
            <select id="${id}" data-label="${label}" data-level="${levelKey}">
              <option value="" disabled selected></option>
              ${(opts||[]).map(v=>`<option value="${v.code}">${v.label}</option>`).join('')}
            </select>`;
          els.fields.appendChild(wrap);
          state[label] = '';
        });
      }

      function compose() {
        const required = (schema.order||[]).filter(l=>!(schema.optional||[]).includes(l));
        const parts = schema.order.map(l=>state[l]).filter(Boolean);
        const complete = required.every(l=>!!state[l]);
        const out = normalizeCase(parts.join(schema.delimiter), schema.case);
        els.output.textContent = out || 'Select values to generateâ€¦';
        els.copyBtn.disabled = !complete;
        els.copyBtn.textContent = complete ? 'Copy' : 'Select All Values';
        els.validity.textContent = complete ? 'Ready to copy' : 'Incomplete';
        return { out, complete };
      }

      function highlightMissing() {
        schema.order.forEach(label=>{
          const sel = els.fields.querySelector(`select[data-label="${label}"]`);
          if (!state[label]) sel?.classList.add('missing');
        });
      }

      function reset() {
        els.fields.querySelectorAll('select').forEach(s=>s.selectedIndex = 0);
        schema.order.forEach(l=>state[l]='');
        compose();
      }

      function attach() {
        schema.order.forEach(label=>{
          const sel = els.fields.querySelector(`select[data-label="${label}"]`);
          if(!sel) return;
          sel.addEventListener('change', e=>{
            state[label] = e.target.value || '';
            e.target.classList.remove('missing');
            compose();
          });
        });

        els.resetBtn.addEventListener('click', reset);

        async function doCopy(){
          const { out, complete } = compose();
          if(!complete){ highlightMissing(); return; }
          try {
            await navigator.clipboard.writeText(out);
            toast('Copied to clipboard');
            addRecent({ text: out, type: levelKey });
          } catch(err) {
            const ta = document.createElement('textarea');
            ta.value = out; document.body.appendChild(ta); ta.select();
            const ok = document.execCommand('copy');
            document.body.removeChild(ta);
            if(ok){ toast('Copied'); addRecent({ text: out, type: levelKey }); }
            else{ toast('Copy failed'); }
          }
        }
        els.copyBtn.addEventListener('click', doCopy);
      }

      renderFields();
      attach();
      compose();

      return { compose, reset, state, schema, levelKey };
    }

    function toast(msg){
      const t=document.createElement('div');
      t.className='toast';
      t.setAttribute('role','status');
      t.setAttribute('aria-live','polite');
      t.textContent=msg;
      document.body.appendChild(t);
      setTimeout(()=>t.remove(), 1200);
    }

    // ---- Recents (global, tagged by type) ----
    function getRecents(){
      try{ return JSON.parse(localStorage.getItem(RECENTS_KEY)||'[]'); }catch(_){ return []; }
    }
    function setRecents(list){ localStorage.setItem(RECENTS_KEY, JSON.stringify(list.slice(0,10))); }

    function addRecent(entry){
      const cur = getRecents();
      const next = [entry, ...cur.filter(e=>e.text!==entry.text)].slice(0,10);
      setRecents(next); renderRecents();
    }
    function clearRecents(){ setRecents([]); renderRecents(); }
    function renderRecents(){
      const el = document.getElementById('recents');
      if(!el) return;
      const items = getRecents();
      if(!items.length){ el.innerHTML=''; return; }
      el.innerHTML = `
        <h3>Recent names</h3>
        <div class="recent-list">
          ${items.map((e,i)=>`<span class="recent-pill" data-idx="${i}" title="${e.type}"><span class="muted">${e.type}</span> ${e.text} <button class="btn icon" aria-label="Copy recent ${i+1}">â§‰</button></span>`).join('')}
          <button class="btn ghost" id="clearRecentsBtn" type="button" title="Clear recent names">Clear</button>
        </div>`;
      el.querySelectorAll('.recent-pill .btn.icon').forEach((b,i)=>{
        b.addEventListener('click', async ()=>{
          const e = items[i]; if(!e) return;
          try{ await navigator.clipboard.writeText(e.text); toast('Copied: ' + e.text); }catch(_){ toast('Copy failed'); }
        });
      });
      const clr = el.querySelector('#clearRecentsBtn');
      if(clr) clr.addEventListener('click', clearRecents);
    }

    // ---- Values list for all schemas ----
    
    
    function renderValuesList(levelKey, schema){
      const box = document.getElementById('valuesList_' + levelKey);
      if(!box) return;
      const order = Array.isArray(schema?.order) ? schema.order : [];
      const fields = schema?.fields || {};
      if(!order.length){
        box.innerHTML = '<em class="muted">No schema loaded</em>';
        return;
      }


    // ---- Theme toggle (existing) ----
    (function themeToggleInit(){
      const themeBtn=document.getElementById('themeBtn');
      const themeIcon=document.getElementById('themeIcon');
      const root=document.documentElement;
      const saved=localStorage.getItem('theme')||'dark';
      root.setAttribute('data-theme', saved);
      if(themeIcon) themeIcon.textContent = saved==='dark' ? 'ðŸŒ™' : 'â˜€ï¸';
      themeBtn?.addEventListener('click', ()=>{
        const cur=root.getAttribute('data-theme');
        const next=cur==='dark'?'light':'dark';
        root.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
        if(themeIcon) themeIcon.textContent = next==='dark' ? 'ðŸŒ™' : 'â˜€ï¸';
      });
    })();

    async function loadSchemas(){
      const sourcePills = Array.from(document.querySelectorAll('.sourcePill'));
      try {
        const r = await fetch('schema.json', { cache: 'no-store' });
        if (!r.ok) throw new Error('Missing schema.json');
        const remote = await r.json();
        let schemas;
        if (remote && remote.asset || remote.campaign || remote.adgroup) {
          // multi-object
          schemas = {
            campaign: remote.campaign || FALLBACK_SCHEMAS.campaign,
            adgroup:  remote.adgroup  || FALLBACK_SCHEMAS.adgroup,
            asset:    remote.asset    || (remote.order ? remote : FALLBACK_SCHEMAS.asset)
          };
        } else if (remote && remote.order && remote.fields) {
          // backward compat: single schema => asset
          schemas = { campaign: FALLBACK_SCHEMAS.campaign, adgroup: FALLBACK_SCHEMAS.adgroup, asset: remote };
        } else {
          throw new Error('Bad schema format');
        }
        sourcePills.forEach(p=>p.textContent='Remote JSON');
        return schemas;
      } catch (err) {
        sourcePills.forEach(p=>p.textContent='Embedded JSON');
        console.warn('Using embedded schema set:', err?.message || err);
        return FALLBACK_SCHEMAS;
      }
    }

    (async function init(){
      const SCHEMAS = await loadSchemas();

      // Initialize three generators
      const gens = {
        campaign: createGenerator('campaign', SCHEMAS.campaign),
        adgroup:  createGenerator('adgroup',  SCHEMAS.adgroup),
        asset:    createGenerator('asset',    SCHEMAS.asset),
      };

      renderValuesList('campaign', SCHEMAS.campaign);
      renderValuesList('adgroup', SCHEMAS.adgroup);
      renderValuesList('asset', SCHEMAS.asset);
      renderRecents();

      // year footer
      const y = document.getElementById('year'); if(y) y.textContent = new Date().getFullYear();
    })();
</script>
</body>
</html>
